{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/raymond-amem-aondoakura/Documents/softwares_I/web2_I/Cornerstone-Orphanage-Website/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/raymond-amem-aondoakura/Documents/softwares_I/web2_I/Cornerstone-Orphanage-Website/components/ui/button.tsx"],"sourcesContent":["import { Slot } from \"@radix-ui/react-slot\";\nimport { type VariantProps, cva } from \"class-variance-authority\";\nimport * as React from \"react\";\nimport { cn } from \"../../lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///home/raymond-amem-aondoakura/Documents/softwares_I/web2_I/Cornerstone-Orphanage-Website/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///home/raymond-amem-aondoakura/Documents/softwares_I/web2_I/Cornerstone-Orphanage-Website/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB;AAGF,MAAM,sBAAQ,mNAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,yKAAmB;QAClB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,yKAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///home/raymond-amem-aondoakura/Documents/softwares_I/web2_I/Cornerstone-Orphanage-Website/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AACA,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///home/raymond-amem-aondoakura/Documents/softwares_I/web2_I/Cornerstone-Orphanage-Website/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"../../lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className,\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,yDACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///home/raymond-amem-aondoakura/Documents/softwares_I/web2_I/Cornerstone-Orphanage-Website/lib/cloudinary.ts"],"sourcesContent":["export async function uploadToCloudinary(file: File): Promise<string> {\n  const cloudName = process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME?.trim();\n  const uploadPreset = process.env.NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET?.trim();\n\n  if (!cloudName) {\n    throw new Error(\n      \"Cloudinary cloud name is not set. Set NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME in your .env.\"\n    );\n  }\n\n  if (!uploadPreset) {\n    throw new Error(\n      \"Cloudinary upload preset is not set. Set NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET in your .env (must be an UNSIGNED preset).\"\n    );\n  }\n\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  formData.append(\"upload_preset\", uploadPreset); // Must be an UNSIGNED preset in Cloudinary\n\n  const response = await fetch(\n    `https://api.cloudinary.com/v1_1/${cloudName}/image/upload`,\n    {\n      method: \"POST\",\n      body: formData,\n    }\n  );\n\n  if (!response.ok) {\n    let message = \"Failed to upload image to Cloudinary\";\n    try {\n      const err = await response.json();\n      if (err?.error?.message) message = err.error.message;\n    } catch (_) {\n    }\n    console.log(message);\n    throw new Error(message);\n  }\n\n  const data = await response.json();\n  return data.secure_url;\n}\n\nexport function getCloudinaryPublicId(url: string): string | null {\n  const regex = /\\/v\\d+\\/(.+)\\.\\w+$/;\n  const match = url.match(regex);\n  return match ? match[1] : null;\n}\n"],"names":[],"mappings":";;;;;;AAAO,eAAe,mBAAmB,IAAU;IACjD,MAAM,2DAA2D;IACjE,MAAM,gEAAiE;IAEvE,IAAI,CAAC,WAAW;QACd,MAAM,IAAI,MACR;IAEJ;IAEA,IAAI,CAAC,cAAc;QACjB,MAAM,IAAI,MACR;IAEJ;IAEA,MAAM,WAAW,IAAI;IACrB,SAAS,MAAM,CAAC,QAAQ;IACxB,SAAS,MAAM,CAAC,iBAAiB,eAAe,2CAA2C;IAE3F,MAAM,WAAW,MAAM,MACrB,CAAC,gCAAgC,EAAE,UAAU,aAAa,CAAC,EAC3D;QACE,QAAQ;QACR,MAAM;IACR;IAGF,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,IAAI,UAAU;QACd,IAAI;YACF,MAAM,MAAM,MAAM,SAAS,IAAI;YAC/B,IAAI,KAAK,OAAO,SAAS,UAAU,IAAI,KAAK,CAAC,OAAO;QACtD,EAAE,OAAO,GAAG,CACZ;QACA,QAAQ,GAAG,CAAC;QACZ,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAChC,OAAO,KAAK,UAAU;AACxB;AAEO,SAAS,sBAAsB,GAAW;IAC/C,MAAM,QAAQ;IACd,MAAM,QAAQ,IAAI,KAAK,CAAC;IACxB,OAAO,QAAQ,KAAK,CAAC,EAAE,GAAG;AAC5B","debugId":null}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///home/raymond-amem-aondoakura/Documents/softwares_I/web2_I/Cornerstone-Orphanage-Website/components/LexicalEditor.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { LexicalComposer } from '@lexical/react/LexicalComposer'\nimport { RichTextPlugin } from '@lexical/react/LexicalRichTextPlugin'\nimport { ContentEditable } from '@lexical/react/LexicalContentEditable'\nimport { HistoryPlugin } from '@lexical/react/LexicalHistoryPlugin'\nimport { OnChangePlugin } from '@lexical/react/LexicalOnChangePlugin'\nimport { LexicalErrorBoundary } from '@lexical/react/LexicalErrorBoundary'\nimport { EditorState } from 'lexical'\nimport { uploadToCloudinary } from '@/lib/cloudinary'\nimport { Button } from '@/components/ui/button'\n\ninterface LexicalEditorProps {\n  initialContent?: string\n  onChange: (content: string) => void\n  onImageUpload?: (url: string) => void\n}\n\nexport default function LexicalEditor({ initialContent, onChange, onImageUpload }: LexicalEditorProps) {\n  const [isUploading, setIsUploading] = useState(false)\n\n  const initialConfig = {\n    namespace: 'BlogEditor',\n    theme: {\n      paragraph: 'mb-2',\n      text: {\n        bold: 'font-bold',\n        italic: 'italic',\n        underline: 'underline',\n      },\n    },\n    onError: (error: Error) => {\n      console.error(error)\n    },\n    editorState: initialContent,\n  }\n\n  const handleEditorChange = (editorState: EditorState) => {\n    const json = JSON.stringify(editorState.toJSON())\n    onChange(json)\n  }\n\n  const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n\n    setIsUploading(true)\n    try {\n      const url = await uploadToCloudinary(file)\n      onImageUpload?.(url)\n      alert('Image uploaded successfully!')\n    } catch (error) {\n      console.error('Error uploading image:', error)\n      alert('Failed to upload image')\n    } finally {\n      setIsUploading(false)\n    }\n  }\n\n  return (\n    <div className=\"border rounded-lg overflow-hidden\">\n      <LexicalComposer initialConfig={initialConfig}>\n        <div className=\"relative\">\n          <RichTextPlugin\n            contentEditable={\n              <ContentEditable className=\"min-h-[400px] p-4 outline-none prose max-w-none\" />\n            }\n            placeholder={\n              <div className=\"absolute top-4 left-4 text-gray-400 pointer-events-none\">\n                Start writing your blog post...\n              </div>\n            }\n            ErrorBoundary={LexicalErrorBoundary}\n          />\n          <HistoryPlugin />\n          <OnChangePlugin onChange={handleEditorChange} />\n        </div>\n      </LexicalComposer>\n      \n      {onImageUpload && (\n        <div className=\"border-t p-4 bg-gray-50\">\n          <label className=\"cursor-pointer\">\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleImageUpload}\n              className=\"hidden\"\n              disabled={isUploading}\n            />\n            <Button type=\"button\" disabled={isUploading} asChild>\n              <span>{isUploading ? 'Uploading...' : 'Upload Image'}</span>\n            </Button>\n          </label>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAXA;;;;;;;;;;;AAmBe,SAAS,cAAc,EAAE,cAAc,EAAE,QAAQ,EAAE,aAAa,EAAsB;IACnG,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,gBAAgB;QACpB,WAAW;QACX,OAAO;YACL,WAAW;YACX,MAAM;gBACJ,MAAM;gBACN,QAAQ;gBACR,WAAW;YACb;QACF;QACA,SAAS,CAAC;YACR,QAAQ,KAAK,CAAC;QAChB;QACA,aAAa;IACf;IAEA,MAAM,qBAAqB,CAAC;QAC1B,MAAM,OAAO,KAAK,SAAS,CAAC,YAAY,MAAM;QAC9C,SAAS;IACX;IAEA,MAAM,oBAAoB,OAAO;QAC/B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,eAAe;QACf,IAAI;YACF,MAAM,MAAM,MAAM,IAAA,uIAAkB,EAAC;YACrC,gBAAgB;YAChB,MAAM;QACR,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,MAAM;QACR,SAAU;YACR,eAAe;QACjB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,gLAAe;gBAAC,eAAe;0BAC9B,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qLAAc;4BACb,+BACE,8OAAC,uLAAe;gCAAC,WAAU;;;;;;4BAE7B,2BACE,8OAAC;gCAAI,WAAU;0CAA0D;;;;;;4BAI3E,eAAe,0LAAoB;;;;;;sCAErC,8OAAC,mMAAa;;;;;sCACd,8OAAC,qLAAc;4BAAC,UAAU;;;;;;;;;;;;;;;;;YAI7B,+BACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;4BACC,MAAK;4BACL,QAAO;4BACP,UAAU;4BACV,WAAU;4BACV,UAAU;;;;;;sCAEZ,8OAAC,qIAAM;4BAAC,MAAK;4BAAS,UAAU;4BAAa,OAAO;sCAClD,cAAA,8OAAC;0CAAM,cAAc,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpD","debugId":null}},
    {"offset": {"line": 460, "column": 0}, "map": {"version":3,"sources":["file:///home/raymond-amem-aondoakura/Documents/softwares_I/web2_I/Cornerstone-Orphanage-Website/app/admin/blogs/%5Bid%5D/edit/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter, useParams } from 'next/navigation'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport LexicalEditor from '@/components/LexicalEditor'\nimport { uploadToCloudinary } from '@/lib/cloudinary'\nimport Link from 'next/link'\n\nexport default function EditBlogPage() {\n  const router = useRouter()\n  const params = useParams()\n  const id = params.id as string\n  \n  const [loading, setLoading] = useState(false)\n  const [fetching, setFetching] = useState(true)\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    content: '',\n    featuredImage: '',\n    category: '',\n    published: true,\n  })\n  const [isUploadingImage, setIsUploadingImage] = useState(false)\n\n  useEffect(() => {\n    fetchBlog()\n  }, [id])\n\n  const fetchBlog = async () => {\n    try {\n      const response = await fetch(`/api/blogs/${id}`)\n      if (response.ok) {\n        const blog = await response.json()\n        setFormData({\n          title: blog.title,\n          description: blog.description,\n          content: blog.content,\n          featuredImage: blog.featuredImage || '',\n          category: blog.category || '',\n          published: blog.published,\n        })\n      } else {\n        alert('Blog not found')\n        router.push('/admin/blogs')\n      }\n    } catch (error) {\n      console.error('Error fetching blog:', error)\n      alert('Error loading blog')\n    } finally {\n      setFetching(false)\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n\n    try {\n      const response = await fetch(`/api/blogs/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      })\n\n      if (response.ok) {\n        alert('Blog updated successfully!')\n        router.push('/admin/blogs')\n      } else {\n        const error = await response.json()\n        alert(`Failed to update blog: ${error.error}`)\n      }\n    } catch (error) {\n      console.error('Error updating blog:', error)\n      alert('Error updating blog')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleFeaturedImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n\n    setIsUploadingImage(true)\n    try {\n      const url = await uploadToCloudinary(file)\n      setFormData({ ...formData, featuredImage: url })\n      alert('Featured image uploaded!')\n    } catch (error) {\n      console.error('Error uploading image:', error)\n      alert('Failed to upload image')\n    } finally {\n      setIsUploadingImage(false)\n    }\n  }\n\n  if (fetching) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-lg\">Loading blog...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 py-8\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"mb-6 flex items-center justify-between\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">Edit Blog Post</h1>\n          <Link href=\"/admin/blogs\">\n            <Button variant=\"outline\">Back to Blogs</Button>\n          </Link>\n        </div>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Blog Details</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div>\n                <Label htmlFor=\"title\">Title *</Label>\n                <Input\n                  id=\"title\"\n                  type=\"text\"\n                  required\n                  value={formData.title}\n                  onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                  placeholder=\"Enter blog title\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"description\">Description *</Label>\n                <Textarea\n                  id=\"description\"\n                  required\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  placeholder=\"Brief description of the blog post\"\n                  rows={3}\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"category\">Category</Label>\n                <Input\n                  id=\"category\"\n                  type=\"text\"\n                  value={formData.category}\n                  onChange={(e) => setFormData({ ...formData, category: e.target.value })}\n                  placeholder=\"e.g., Visit, Event, News\"\n                />\n              </div>\n\n              <div>\n                <Label>Featured Image</Label>\n                <div className=\"flex items-center gap-4\">\n                  <label className=\"cursor-pointer\">\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={handleFeaturedImageUpload}\n                      className=\"hidden\"\n                      disabled={isUploadingImage}\n                    />\n                    <Button type=\"button\" disabled={isUploadingImage} asChild>\n                      <span>\n                        {isUploadingImage ? 'Uploading...' : 'Upload Featured Image'}\n                      </span>\n                    </Button>\n                  </label>\n                  {formData.featuredImage && (\n                    <img\n                      src={formData.featuredImage}\n                      alt=\"Featured\"\n                      className=\"w-20 h-20 object-cover rounded\"\n                    />\n                  )}\n                </div>\n              </div>\n\n              <div>\n                <Label>Content *</Label>\n                <LexicalEditor\n                  initialContent={formData.content}\n                  onChange={(content) => setFormData({ ...formData, content })}\n                  onImageUpload={(url) => console.log('Image uploaded:', url)}\n                />\n              </div>\n\n              <div className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  id=\"published\"\n                  checked={formData.published}\n                  onChange={(e) => setFormData({ ...formData, published: e.target.checked })}\n                  className=\"w-4 h-4\"\n                />\n                <Label htmlFor=\"published\" className=\"cursor-pointer\">\n                  Published\n                </Label>\n              </div>\n\n              <div className=\"flex gap-4\">\n                <Button\n                  type=\"submit\"\n                  disabled={loading || !formData.title || !formData.description || !formData.content}\n                  className=\"bg-indigo-600 hover:bg-indigo-700\"\n                >\n                  {loading ? 'Updating...' : 'Update Blog Post'}\n                </Button>\n                <Link href=\"/admin/blogs\">\n                  <Button type=\"button\" variant=\"outline\">\n                    Cancel\n                  </Button>\n                </Link>\n              </div>\n            </form>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}